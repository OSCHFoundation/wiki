# 多重签名 Multisignature

## 交易签名
开源链使用签名作为授权。交易总是需要至少一个公钥的授权才能被认为是有效的。通常事务只需要来自原账户公钥授权。
交易签名是用私钥对交易对象进行密码签名，oschain目前使用签名算法为**ed25519**，也有机制添加其它公钥私钥方案。
具有附加签名的交易就被认为具有这个公分钥的交易授权。
在两种情况下，事务可能需要不止一个签名。如果事务的操作影响多个帐户，那么它将需要来自每个帐户的授权。如果与交易相关的帐户有多个公钥，那么交易也需要额外的签名。

## 阈值
操作属于一个特定的阈值类别：低、中、高。一个给定级别的阈值可以设置为0-255的任何数字。这个阈值是授权在该级别上的操作所需要的签名重量。
每个账户可以设置自己的阈值。默认情况下，所有的阈值水平都设置为0，主键被设置为权重1。
### 三种模式
低安全性要求：允许信任操作，用于允许人们从这个帐户中持有信用。
中等安全性要求：其他所有操作。
高级安全性要求：设置操作，包括：1、设置更改签署者或阈值的选项 2、允许您创建一组签署者，授予或撤销对该帐户的访问权。

## 额外增加签名密钥
除主密钥之外，可以使用“设置选项”操作将其他签名密钥添加到帐户。
如果主密钥的权重更新为0，则主密钥被认为是无效密钥，并且您不能使用它签署任何事务（即使对于阈值为0的操作）
“签名者”是指主密钥或后面添加的任何签名密钥。 签名者被定义为一对：公钥，权重。
主密钥以外的每个附加签名人都会增加帐户的最低余额。

## 备用签名类型
为了启用一些高级智能合约功能，还有一些额外的签名类型。 这些签名类型也具有权重，可以与普通签名类型类似地添加和删除。 但不是检查授权的加密签名，而是使用不同的方法来验证网络的有效性。

## 预先授权交易
需要预先准备好交易，并使用适当的序列号。然后可以获得这笔交易的散列，并将其作为签署者添加到帐户中。
当匹配的事务被正确应用时，这种类型的签名者将被自动从帐户中删除。在发生错误时，或者当匹配事务从未提交时，签名者仍然存在，并且必须使用Set Options操作手动删除。

## 哈希（X）
添加hash（x）类型的签名允许任何知道x的人签名该事务。 这种类型的签署者在像闪电网络这样的区块间链路协议所需的原子交叉链交换中特别有用。

## 信封
交易信封用一组签名包装交易。 交易对象是签名者实际签署的东西。 从技术上讲，交易信封是通过网络传递并包含在交易集中的东西。

## 授权
要确定交易是否具有运行所需的授权，交易信封中所有签名的权重将相加。 如果此总和等于或大于为该操作类型设置的阈值（请参见下文），则操作被授权。
这个方案非常灵活。 您可以要求许多签名者授权来自特定账户的付款。 您可以拥有任意数量的人都可以授权的帐户。 您可以拥有一个授予访问权限的主密钥或从其他位置撤销访问。 它支持n个设置中的任何一个。

## 多账户交易
通常事务只涉及到单个帐户上的操作。例如，如果帐户A想要将lumens发送到帐户B，只需要考虑授权交易的需要。
如果在帐户A和B都发送到帐户C的情况下进行交易。在提交给网络之前，这个事务需要来自帐户A和B的授权。

